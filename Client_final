#client gets the ip address from bd server and append it to the host and send msg to server

import threading
from threading import Thread
import socket
from socket import *
import time
from time import ctime
#client gets ip address from bd and sends the msg to the server
class Client():

    def __init__(self):

        self.sock = socket(AF_INET, SOCK_DGRAM)

    def receive_bd(self):
        self.sock.bind(('192.168.1.255', 12345))
        msg, client = self.sock.recvfrom(1024)
        a=(msg.decode())
        host = a
        port = 4242
        address = (host, port)
        self.sock.sendto("connection".encode(), address)

    def rec(self):
        self.Thread=threading.Thread(target=self.receive_bd,args="",)
        self.Thread.start()
        time.sleep(2)
        self.Thread=False
        self.Thread.join()



if __name__=="__main__":
    C=Client()
    C.receive_bd()
